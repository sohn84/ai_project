# 4cut Review Manga - Product Specification

> 여행 리뷰를 4컷 만화로 자동 변환하여 하나투어 이용자들의 리뷰 작성을 유도하고, 재미있는 디지털 기념품을 선물하는 서비스

---

## 1. 배경 & 문제

### 현재 상황
- 하나투어 패키지 이용자들의 리뷰 작성률이 낮음
- 텍스트 리뷰는 작성하기 귀찮고, 읽기에도 지루함
- SNS 시대에 맞는 시각적이고 재미있는 리뷰 형식 부재
- 여행 후기를 공유하고 싶지만 긴 글 작성은 부담스러움

### 핵심 문제
> "하나투어 패키지 이용자들이 리뷰를 작성할 동기가 부족하고, 작성해도 텍스트만으로는 SNS에 공유하기 매력적이지 않다"

### 해결 기회
- AI 이미지 생성 기술로 텍스트 리뷰를 4컷 만화로 자동 변환
- 재미있는 디지털 기념품을 제공하여 리뷰 작성 동기 부여
- SNS 공유 친화적인 형식으로 바이럴 마케팅 가능성

---

## 2. 목적 & 목표

### 비전 (1년)
하나투어의 모든 패키지 상품 이용자가 여행 후 4컷 만화 리뷰를 작성하고 SNS에 공유하는 문화를 만든다.

### 미션
> "여행의 추억을 재미있는 4컷 만화로 남기고, 친구들과 공유한다"

### 3개월 목표
1. 하나투어 패키지 이용자 대상 파일럿 서비스 런칭
2. 리뷰 작성률 30% 증가 달성
3. 생성된 4컷 만화의 SNS 공유율 50% 이상 달성

### 핵심 KPI
- 📈 **리뷰 작성률**: 현재 대비 30% 증가
- 🎨 **4컷 만화 생성 수**: 월 100개 이상
- 📱 **SNS 공유율**: 생성된 만화의 50% 이상 공유

---

## 3. 타겟 사용자

### 페르소나: 지민 (28세)
- **직급**: 회사원 (마케팅팀)
- **여행 패턴**: 연 2-3회 해외여행, 주로 하나투어 패키지 이용
- **SNS 활동**: 인스타그램 활발히 사용, 여행 사진 자주 공유
- **과제**: 여행 후기를 쓰고 싶지만 긴 글 작성은 귀찮음, 사진만으로는 스토리가 없어 아쉬움
- **능력**: 스마트폰 사용 능숙, AI 서비스에 거부감 없음
- **환경**: 모바일 중심 생활, 짧고 재미있는 콘텐츠 선호
- **절실함**: ⭐⭐⭐⭐⭐⭐⭐⭐ (8/10) - 여행 추억을 특별하게 남기고 싶은 욕구가 강함

---

## 4. 솔루션

### 한 줄 설명
> "하나투어 패키지 이용 후 간단한 리뷰를 작성하면, AI가 자동으로 4컷 만화를 만들어주는 서비스"

### 핵심 차별점
1. **즉시 생성**: 리뷰 작성 후 1분 이내에 4컷 만화 완성
2. **AI 자동화**: 템플릿 + AI 이미지로 품질 높은 만화 자동 생성
3. **선물 개념**: 리뷰 작성 유도를 위한 재미있는 디지털 기념품 제공
4. **SNS 친화적**: 인스타그램, 카카오톡 등에 바로 공유 가능한 포맷

---

## 5. 핵심 기능

### 사용자 여정
1. **하나투어 패키지 여행 완료** (여행 종료 후 이메일/문자 링크 수신)
2. **리뷰 작성 페이지 접속** (여행지명, 짧은 리뷰, 긴 리뷰 입력)
3. **AI 만화 생성** (1분 이내 대기, 로딩 애니메이션 표시)
4. **4컷 만화 확인** (생성된 만화 미리보기)
5. **다운로드 또는 공유** (이미지 저장 또는 SNS 공유 버튼 클릭)
6. **[어드민] 만화 품질 검토** (운영자가 생성된 만화 목록 확인 및 품질 체크)

### MVP 필수 기능 (1주 이내 개발)
1. ✅ **리뷰 입력 폼**
   - 여행지 이름
   - 짧은 리뷰 (50자)
   - 긴 리뷰 (500자)

2. ✅ **4컷 만화 자동 생성 엔진**
   - Gemini Image API로 4개 이미지 생성
   - 템플릿 기반 레이아웃 (4컷 구성)
   - 리뷰 텍스트를 시스템 프롬프트로 변환
   - Canvas API로 이미지 + 텍스트 합성

3. ✅ **어드민 생성 & 검토 시스템**
   - **콘티 시스템 프롬프트 설정**: 콘티 생성 방식 제어
   - **리뷰 입력**: 테스트용 리뷰 텍스트 입력
   - **콘티 생성**: Gemini 2.5 Pro로 4컷 콘티 생성 및 확인
   - **4컷 만화 생성**: 콘티 기반으로 이미지 생성
   - **결과물 확인**: 최종 4컷 만화 이미지 미리보기
   - **초기화 기능**: 전체 프로세스 리셋

4. ✅ **다운로드 기능**
   - 생성된 4컷 만화 PNG 다운로드
   - (향후) SNS 공유 버튼 추가

### 향후 추가 기능
- 다양한 만화 스타일 선택 (웹툰, 일본 만화, 미니멀 등)
- 사용자 업로드 사진을 만화에 반영
- 리뷰 수정 및 재생성 기능
- 커뮤니티 갤러리 (다른 사람들의 만화 구경)
- SNS 직접 공유 (Instagram, Facebook, Twitter 연동)

---

## 6. 비즈니스 모델

### 비용 구조
- **Gemini API 비용**: 이미지 생성 4회/리뷰당
  - 예상: $0.01~0.03/리뷰 (Gemini 저렴한 편)
  - 월 100건 기준: $1~3/월
- **호스팅 비용**: GitHub Pages 또는 Vercel (무료)
- **개발 비용**: 사내 개발팀 리소스

### 기대 효과 (ROI)
- **리뷰 증가**: 리뷰 작성률 30% 증가 → 신규 고객 유입 증가
- **SNS 바이럴**: 4컷 만화 공유 → 하나투어 브랜드 인지도 상승
- **고객 만족도**: 재미있는 디지털 기념품 제공 → 고객 충성도 향상
- **마케팅 비용 절감**: 자발적 SNS 공유로 광고비 절감

---

## 7. 기술 스택

### 프론트엔드
- **HTML/CSS/JavaScript** (정적 웹페이지)
- **포트**: 8001
- **Canvas API**: 이미지 + 텍스트 합성

### AI & API
- **Google Gemini 2.5 Pro API** (콘티 생성 - 텍스트)
- **Google Gemini Image Generation API** (이미지 생성)
- **환경 변수**: `GOOGLE_AI_API_KEY` (.env.local)

### 데이터
- **로컬 스토리지** 또는 **세션 스토리지** (임시 데이터, DB 불필요)
- (향후) Supabase로 리뷰 데이터 저장 고려

### 배포
- **GitHub Pages** 또는 **Vercel** (정적 호스팅)
- **어드민 페이지**: 별도 HTML 파일 (`admin.html`)

---

## 8. 실행 계획

### 개발 일정 (1주)

#### Day 1-2: 기본 구조 & UI
- [ ] 프로젝트 폴더 구조 생성
- [ ] 리뷰 입력 폼 HTML/CSS 구현
- [ ] 4컷 만화 템플릿 디자인
- [ ] 로딩 애니메이션 추가

#### Day 3-4: AI 연동 & 만화 생성
- [ ] Gemini API 연동 (환경 변수 설정)
- [ ] **1단계**: Gemini 2.5 Pro로 콘티 생성 (리뷰 → JSON 콘티)
- [ ] **2단계**: Gemini Image API로 4개 이미지 생성 (병렬 호출)
- [ ] Canvas로 이미지 + 대사 합성

#### Day 5: 어드민 시스템
- [ ] `admin.html` 생성 (2단 구조)
- [ ] **1단**: 타이틀 + 초기화 버튼
- [ ] **2단 - 4단계 패널**:
  - [ ] 1단계: 콘티 시스템 프롬프트 입력박스
  - [ ] 2단계: 리뷰 텍스트 입력박스 + [콘티 생성] 버튼
  - [ ] 3단계: 콘티 텍스트 확인 + [4컷 만화 생성] 버튼
  - [ ] 4단계: 4컷 만화 이미지 결과물 표시

#### Day 6: 테스트 & 디버깅
- [ ] 다양한 리뷰 테스트 (긍정/부정/중립)
- [ ] 이미지 품질 검증
- [ ] 1분 이내 생성 시간 확인
- [ ] 모바일 반응형 테스트

#### Day 7: 배포 & 문서화
- [ ] Vercel 또는 GitHub Pages 배포
- [ ] README.md 작성
- [ ] 사용 가이드 문서

### 주요 리스크 & 대응

| 리스크 | 대응 전략 |
|--------|-----------|
| **AI 이미지 품질 저하** | 프롬프트 엔지니어링으로 품질 개선, 템플릿 스타일 다양화 |
| **생성 시간 초과** (1분 이상) | 병렬 API 호출, 캐싱 전략, 로딩 UX 개선 |
| **API 비용 초과** | 무료 티어 한도 모니터링, 이미지 해상도 최적화 |
| **사용자 참여율 저조** | 하나투어와 협업하여 이메일/푸시 알림 발송, 인센티브 제공 |

---

## 9. 다음 단계 (Action Items)

### 즉시 (이번 주)
- [x] PRODUCT_SPEC.md 작성 완료
- [ ] 프로젝트 폴더 구조 생성
- [ ] Gemini API 키 설정 (.env.local)
- [ ] 리뷰 입력 폼 HTML 작성

### Week 1
- [ ] 4컷 만화 생성 엔진 구현
- [ ] 어드민 페이지 구현
- [ ] 로컬 테스트 완료

### Week 2
- [ ] 배포 및 파일럿 테스트
- [ ] 하나투어 담당자 피드백 수렴
- [ ] 개선사항 반영

---

## 10. 성공 기준

### MVP 성공 (1주)
- [ ] 리뷰 입력 → 4컷 만화 생성 전체 플로우 작동
- [ ] 1분 이내 생성 시간 달성
- [ ] 어드민에서 생성된 만화 품질 확인 가능
- [ ] 테스트 리뷰 10건 성공

### 파일럿 성공 (1개월)
- [ ] 하나투어 이용자 100명 이상 참여
- [ ] 리뷰 작성률 30% 증가
- [ ] SNS 공유율 50% 이상
- [ ] 사용자 만족도 4.0/5.0 이상

### 전사 확대 (3개월)
- [ ] 월 1,000건 이상 4컷 만화 생성
- [ ] SNS 바이럴 효과 측정 (해시태그 분석)
- [ ] 하나투어 전체 패키지 상품에 적용
- [ ] 다양한 스타일 템플릿 3종 이상 제공

---

## 11. 기술 세부 사항

### 4컷 만화 생성 프로세스 (2단계)

```
📝 1단계: 콘티 생성 (Gemini 2.5 Pro)
────────────────────────────────────
1. 사용자 리뷰 입력
   ↓
2. 리뷰 분석 (짧은 리뷰 + 긴 리뷰)
   ↓
3. Gemini 2.5 Pro API 호출
   - 프롬프트: "여행지 {여행지명}에 대한 리뷰를 4컷 만화 콘티로 작성해줘"
   - 입력: 짧은 리뷰 + 긴 리뷰
   ↓
4. 콘티 생성 결과 (JSON 형식)
   {
     "cut1": { "scene": "공항 출발 장면", "dialogue": "드디어 제주도다!" },
     "cut2": { "scene": "성산일출봉 등반", "dialogue": "경치가 정말 아름다워" },
     "cut3": { "scene": "흑돼지 맛집", "dialogue": "이게 바로 제주 맛!" },
     "cut4": { "scene": "석양 배경", "dialogue": "또 오고 싶다!" }
   }

🎨 2단계: 이미지 생성 (Gemini Image API)
────────────────────────────────────
5. 각 컷의 scene 설명을 이미지 프롬프트로 변환
   ↓
6. Gemini Image API 4회 호출 (병렬 처리)
   - 컷 1 이미지: "만화 스타일, 공항 출발 장면, 밝은 분위기"
   - 컷 2 이미지: "만화 스타일, 성산일출봉 등반, 웅장한 배경"
   - 컷 3 이미지: "만화 스타일, 흑돼지 맛집, 맛있는 음식"
   - 컷 4 이미지: "만화 스타일, 석양 배경, 감동적인 분위기"
   ↓
7. Canvas로 4컷 레이아웃 합성
   - 2x2 그리드 레이아웃
   - 각 컷에 말풍선으로 dialogue 텍스트 추가
   - 이미지 + 대사 합성
   ↓
8. PNG 이미지로 다운로드 가능
```

#### 장점
- **일관성**: Gemini 2.5 Pro가 4컷 전체 스토리를 한 번에 구성
- **품질**: 각 컷의 장면과 대사가 자연스럽게 연결
- **제어 가능**: 콘티를 확인하고 필요시 재생성 가능

### 어드민 UI 구조

```
┌─────────────────────────────────────────┐
│  4컷 만화 어드민              [초기화]  │  ← 1단
├─────────────────────────────────────────┤
│  📝 1단계: 콘티 시스템 프롬프트         │  ← 2단
│  ┌─────────────────────────────────┐   │
│  │ 여행 리뷰를 4컷 만화 콘티로...  │   │
│  │ (시스템 프롬프트 입력)          │   │
│  └─────────────────────────────────┘   │
├─────────────────────────────────────────┤
│  ✍️ 2단계: 리뷰 입력                   │
│  ┌─────────────────────────────────┐   │
│  │ 짧은 리뷰: _________________    │   │
│  │ 긴 리뷰: ___________________    │   │
│  └─────────────────────────────────┘   │
│              [콘티 생성]                │
├─────────────────────────────────────────┤
│  📋 3단계: 콘티 확인                   │
│  ┌─────────────────────────────────┐   │
│  │ {                               │   │
│  │   "cut1": {...},                │   │
│  │   "cut2": {...},                │   │
│  │   ...                           │   │
│  │ }                               │   │
│  └─────────────────────────────────┘   │
│            [4컷 만화 생성]              │
├─────────────────────────────────────────┤
│  🎨 4단계: 4컷 만화 결과                │
│  ┌────────┬────────┐                   │
│  │  컷1   │  컷2   │                   │
│  ├────────┼────────┤                   │
│  │  컷3   │  컷4   │                   │
│  └────────┴────────┘                   │
│            [다운로드]                   │
└─────────────────────────────────────────┘
```

### 어드민 주요 기능
- **콘티 프롬프트 커스터마이징**: 콘티 생성 방식을 실시간 조정
- **단계별 생성 제어**: 콘티 확인 후 이미지 생성 결정
- **즉시 피드백**: 각 단계에서 결과 확인 가능
- **초기화**: 전체 프로세스 처음부터 다시 시작

---

**이제 개발을 시작할 준비가 완료되었습니다! 🚀**
