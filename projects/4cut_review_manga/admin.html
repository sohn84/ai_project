<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4ì»· ë§Œí™” ì–´ë“œë¯¼ - 4cut Review Manga</title>
  <link rel="stylesheet" href="style.css">
  <script src="config.js"></script>
  <script src="api.js"></script>
</head>

<body>
  <div class="container">
    <!-- 1ë‹¨: í—¤ë” -->
    <header class="header">
      <h1 class="header__title">4ì»· ë§Œí™” ì–´ë“œë¯¼</h1>
      <button class="button button--secondary" id="resetBtn">
        ğŸ”„ ì´ˆê¸°í™”
      </button>
    </header>

    <!-- 2ë‹¨: 4ë‹¨ê³„ íŒ¨ë„ -->
    <main>
      <!-- 0ë‹¨ê³„: ë§Œí™” ì¢…ë¥˜ ì„ íƒ -->
      <section class="panel">
        <div class="panel__header">
          <span class="panel__emoji">ğŸ­</span>
          <h2 class="panel__title">ë§Œí™” ì¢…ë¥˜ ì„ íƒ</h2>
        </div>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" name="mangaType" value="travel" checked>
            <span class="radio-custom"></span>
            <span class="radio-text">
              <strong>ì—¬í–‰ ë§Œí™”</strong>
              <small>ì—¬í–‰ í›„ê¸° ê¸°ë°˜, ê¸°-ìŠ¹-ì „-ê²° êµ¬ì¡°</small>
            </span>
          </label>
          <label class="radio-label">
            <input type="radio" name="mangaType" value="daily">
            <span class="radio-custom"></span>
            <span class="radio-text">
              <strong>ì¼ìƒ ë§Œí™”</strong>
              <small>ì¼ìƒ ì—í”¼ì†Œë“œ ê¸°ë°˜, ì†Œì†Œí•œ ê³µê° í¬ì¸íŠ¸</small>
            </span>
          </label>
        </div>
      </section>

      <!-- 1ë‹¨ê³„: ì½˜í‹° ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ -->
      <section class="panel">
        <div class="panel__header">
          <span class="panel__emoji">ğŸ“</span>
          <h2 class="panel__title">1ë‹¨ê³„: ì½˜í‹° ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸</h2>
        </div>
        <div class="input-group">
          <label class="input-label" for="systemPrompt">
            ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (ì½˜í‹° ìƒì„± ë°©ì‹ ì œì–´) - <span id="promptTypeLabel" style="color: var(--accent-blue);">ì—¬í–‰ ë§Œí™”</span>
          </label>
          <textarea class="textarea textarea--large" id="systemPrompt"
            placeholder="ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
        </div>
      </section>

      <!-- 2ë‹¨ê³„: ë¦¬ë·° ì…ë ¥ -->
      <section class="panel">
        <div class="panel__header">
          <span class="panel__emoji">âœï¸</span>
          <h2 class="panel__title">2ë‹¨ê³„: ë¦¬ë·° ì…ë ¥</h2>
        </div>
        <div class="input-group">
          <label class="input-label" for="reviewText">
            ì—¬í–‰ ë¦¬ë·° (500ì ì´ë‚´)
          </label>
          <textarea class="textarea textarea--large" id="reviewText"
            placeholder="ì˜ˆ: í•˜ë‚˜íˆ¬ì–´ íŒ¨í‚¤ì§€ë¡œ ì œì£¼ë„ 3ë°• 4ì¼ ë‹¤ë…€ì™”ìŠµë‹ˆë‹¤. ì„±ì‚°ì¼ì¶œë´‰ì—ì„œ ë³¸ ì¼ì¶œì´ ì •ë§ ì¥ê´€ì´ì—ˆê³ , í‘ë¼ì§€ ë§›ì§‘ì—ì„œ ë¨¹ì€ ê³ ê¸°ë„ ì¼í’ˆì´ì—ˆì–´ìš”. íŠ¹íˆ ìš°ë„ì—ì„œ ìì „ê±° íƒ€ë©° ëŒì•„ë³¸ í’ê²½ì´ ì¸ìƒ ê¹Šì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì— ë˜ ê°€ê³  ì‹¶ì–´ìš”!"
            maxlength="500"></textarea>
        </div>
        <div class="button-group">
          <button class="button button--primary" id="generateContiBtn">
            ğŸ“ ì½˜í‹° ìƒì„±
          </button>
        </div>
      </section>

      <!-- 3ë‹¨ê³„: ì½˜í‹° í™•ì¸ -->
      <section class="panel">
        <div class="panel__header">
          <span class="panel__emoji">ğŸ“‹</span>
          <h2 class="panel__title">3ë‹¨ê³„: ì½˜í‹° í™•ì¸</h2>
        </div>
        <div class="result-area result-area--empty" id="contiResult">
          <p>ì½˜í‹°ê°€ ìƒì„±ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
        </div>
        <div class="input-group">
          <label class="input-label" for="contiJson">
            ì½˜í‹° JSON (ìˆ˜ì • ê°€ëŠ¥)
          </label>
          <textarea class="textarea textarea--large textarea--code" id="contiJson"
            placeholder='ì½˜í‹° ìƒì„± í›„ JSONì´ í‘œì‹œë©ë‹ˆë‹¤.'></textarea>
        </div>
        <div class="button-group">
          <button class="button button--primary" id="generateMangaBtn" disabled>
            ğŸ¨ 4ì»· ë§Œí™” ìƒì„±
          </button>
        </div>
      </section>

      <!-- 4ë‹¨ê³„: 4ì»· ë§Œí™” ê²°ê³¼ -->
      <section class="panel">
        <div class="panel__header">
          <span class="panel__emoji">ğŸ¨</span>
          <h2 class="panel__title">4ë‹¨ê³„: 4ì»· ë§Œí™” ê²°ê³¼</h2>
        </div>
        <div class="result-area" id="mangaResult">
          <p class="result-area--empty">4ì»· ë§Œí™”ê°€ ìƒì„±ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
        </div>
        <div class="button-group">
          <button class="button button--primary" id="downloadBtn" disabled>
            ğŸ’¾ ë‹¤ìš´ë¡œë“œ
          </button>
        </div>
      </section>
    </main>
  </div>

  <script>
    // ë§Œí™” ì¢…ë¥˜ë³„ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
    const PROMPT_TEMPLATES = {
      travel: `[ì—­í•  ë¶€ì—¬]
ë‹¹ì‹ ì€ ì—¬í–‰ í›„ê¸°ì—ì„œ ê°€ì¥ í–‰ë³µí•˜ê³  ì•„ë¦„ë‹¤ì› ë˜ ìˆœê°„ë§Œì„ ëª¨ì•„ ë”°ëœ»í•œ ë„¤ì»· ë§Œí™”ë¡œ ì¬êµ¬ì„±í•˜ëŠ” ì „ë¬¸ ì½˜í‹° ì‘ê°€ì…ë‹ˆë‹¤.

[ì…ë ¥ ë°ì´í„° ì „ì²˜ë¦¬ ë° ë¶„ì„ ì§€ì¹¨]
(ì¤‘ìš”!) ì œê³µëœ í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„í•  ë•Œ ë‹¤ìŒ ì‚­ì œ ê·œì¹™ì„ ì—„ê²©íˆ ì ìš©í•˜ì—¬ ë‚´ìš©ì„ í•„í„°ë§í•˜ì„¸ìš”.

1. ê°€ì´ë“œ ë‚´ìš© ì‚­ì œ: ê°€ì´ë“œì˜ ì´ë¦„, ì¹­ì°¬, ì—­í•  ë“± ê°€ì´ë“œì™€ ê´€ë ¨ëœ ëª¨ë“  ì–¸ê¸‰ì„ ì œì™¸í•˜ì„¸ìš”. ì˜¤ì§ ì—¬í–‰ìì˜ ì‹œì„ ì—ë§Œ ì§‘ì¤‘í•©ë‹ˆë‹¤.
2. ë¶ˆë§Œ ë‚´ìš© ì‚­ì œ: ìŒì‹ì´ ë§›ì—†ì—ˆë‹¤, ì‡¼ê°€ ì§€ë£¨í–ˆë‹¤, ëŒ€ê¸° ì‹œê°„ì´ ê¸¸ì—ˆë‹¤ ë“±ì˜ ë¶€ì •ì ì¸ í”¼ë“œë°±ì´ë‚˜ ë¶ˆë§Œ ì‚¬í•­ì€ ëª¨ë‘ ì‚­ì œí•˜ì„¸ìš”.
3. ì •ë³´ì„± ë‚´ìš© ìƒëµ: í™˜ì „, ë¡œë°, ë‚ ì”¨ ì •ë³´ ë“± ê±´ì¡°í•œ ì •ë³´ëŠ” ë§Œí™”ì˜ ì¬ë¯¸ë¥¼ ìœ„í•´ ìƒëµí•©ë‹ˆë‹¤.
4. í•µì‹¬ ì¶”ì¶œ: ìœ„ ë‚´ìš©ì„ ì œì™¸í•˜ê³  ë‚¨ì€ 'ì¦ê±°ì› ë˜ ê²½í—˜', 'ë§›ìˆì—ˆë˜ ìŒì‹', 'ì•„ë¦„ë‹¤ì› ë˜ í’ê²½', 'ê°ë™ì ì¸ ìˆœê°„'ë§Œì„ ì¶”ì¶œí•˜ì—¬ ì†Œì¬ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

[ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì„± ìš”ì²­ (ê¸°-ìŠ¹-ì „-ê²°)]
í•„í„°ë§ëœ ê¸ì •ì ì¸ ë‚´ìš©ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ, AIê°€ ìŠ¤ìŠ¤ë¡œ íŒë‹¨í•˜ì—¬ ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ íë¦„ìœ¼ë¡œ 4ì»·ì„ ë°°ì¹˜í•˜ì„¸ìš”.

1. 1ì»· (ê¸° - ì„¤ë ˜/ë„ì…): ì—¬í–‰ì˜ ì‹œì‘, ì²«ì¸ìƒ, ë˜ëŠ” ì „ë°˜ì ì¸ ê¸°ëŒ€ê°. (ì…ë ¥ëœ ë‚´ìš© ì¤‘ ë„ì…ë¶€ì— í•´ë‹¹í•˜ëŠ” ì¦ê±°ìš´ ì—í”¼ì†Œë“œ ì„ íƒ)
2. 2ì»· (ìŠ¹ - ì¦ê±°ì›€/ì²´í—˜): êµ¬ì²´ì ì¸ ì—¬í–‰ ê²½í—˜ 1. (ì˜ˆ: ë§›ìˆê²Œ ë¨¹ì€ ìŒì‹, ì¬ë¯¸ìˆëŠ” ì²´í—˜ ë“± ê¸ì •ì  ì—í”¼ì†Œë“œ ë°°ì¹˜)
3. 3ì»· (ì „ - ì ˆì •/ê°ë™): ì—¬í–‰ì˜ í•˜ì´ë¼ì´íŠ¸. (ì˜ˆ: ê°€ì¥ ì•„ë¦„ë‹¤ì› ë˜ í’ê²½, ìŠì§€ ëª»í•  ìˆœê°„ ë“± ì‹œê°ì ìœ¼ë¡œ ê°€ì¥ í›Œë¥­í•œ ë‚´ìš© ë°°ì¹˜)
4. 4ì»· (ê²° - ë§Œì¡±/ë§ˆë¬´ë¦¬): ì—¬í–‰ì˜ ì´í‰. (ì „ì²´ì ì¸ ë§Œì¡±ê°, ì¶”ì²œ ë©”ì‹œì§€, ë˜ëŠ” ì—¬í–‰ì„ ë§ˆì¹˜ëŠ” í›ˆí›ˆí•œ ê°ì •)

[ìŠ¤íƒ€ì¼ ê°€ì´ë“œ]
- ê·¸ë¦¼ì²´: íœìœ¼ë¡œ ì“±ì“± ê·¸ë¦° ë“¯í•œ ë‹¨ìˆœí•˜ê³  ì†Œë°•í•œ ì„ í™”. ì—¬ë°±ì„ ì‚´ë¦° í¸ì•ˆí•œ êµ¬ë„.
- ìƒ‰ìƒ: í‘ë°± ë“œë¡œì‰ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ë˜, í–‰ë³µí•œ ê°ì •ì´ë‚˜ ë§›ìˆëŠ” ìŒì‹ ë“± ê°•ì¡°í•  ë¶€ë¶„ì—ë§Œ ë”°ëœ»í•œ 'íŒŒìŠ¤í…” í†¤(ë…¸ë‘, ë¶„í™)'ì„ í¬ì¸íŠ¸ ì»¬ëŸ¬ë¡œ ì‚¬ìš©.
- ë¶„ìœ„ê¸°: íë§, ì†Œí™•í–‰(ì†Œì†Œí•˜ì§€ë§Œ í™•ì‹¤í•œ í–‰ë³µ), ì”ì”í•œ ë¯¸ì†Œ.

[ì¶œë ¥ í˜•ì‹]
ë°˜ë“œì‹œ ì•„ë˜ JSON êµ¬ì¡°ë¡œë§Œ ì¶œë ¥í•˜ì„¸ìš”. ë‹¤ë¥¸ í…ìŠ¤íŠ¸ ì„¤ëª… ì—†ì´ ì˜¤ì§ JSONë§Œ ë°˜í™˜í•˜ì„¸ìš”.

{
  "ë§Œí™” ì œëª©": "(ë‚´ìš©ì„ ì•„ìš°ë¥´ëŠ” ê°ì„±ì ì¸ ì œëª©)",
  "ì»· êµ¬ì„±": [
    {
      "1ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(ë¶€ì •ì ì¸ ë§ ì—†ì´ í–‰ë³µí•œ ëŒ€ì‚¬ ìœ„ì£¼ë¡œ, í•œêµ­ì–´)"
      }
    },
    {
      "2ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(ë¶€ì •ì ì¸ ë§ ì—†ì´ í–‰ë³µí•œ ëŒ€ì‚¬ ìœ„ì£¼ë¡œ, í•œêµ­ì–´)"
      }
    },
    {
      "3ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(ë¶€ì •ì ì¸ ë§ ì—†ì´ í–‰ë³µí•œ ëŒ€ì‚¬ ìœ„ì£¼ë¡œ, í•œêµ­ì–´)"
      }
    },
    {
      "4ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(ë¶€ì •ì ì¸ ë§ ì—†ì´ í–‰ë³µí•œ ëŒ€ì‚¬ ìœ„ì£¼ë¡œ, í•œêµ­ì–´)"
      }
    }
  ]
}

ì£¼ì˜ì‚¬í•­:
- ê·¸ë¦¼ë¬˜ì‚¬ëŠ” ì´ë¯¸ì§€ ìƒì„± AIê°€ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë°˜ë“œì‹œ ì˜ì–´ë¡œ ìƒì„¸í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”.
- ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜ì€ ë§Œí™”ì— ë“¤ì–´ê°ˆ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ì„¸ìš”.
- ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ë°˜ë“œì‹œ ì¤€ìˆ˜í•˜ì„¸ìš” (íœ ì„ í™”, í‘ë°± ë² ì´ìŠ¤, íŒŒìŠ¤í…” í¬ì¸íŠ¸ ì»¬ëŸ¬).`,

      daily: `[ì—­í•  ë¶€ì—¬]
ë‹¹ì‹ ì€ ì¼ìƒì˜ ì†Œì†Œí•œ ìˆœê°„ë“¤ì„ ë”°ëœ»í•˜ê³  ê³µê°ê°€ëŠ” ë„¤ì»· ë§Œí™”ë¡œ ì¬êµ¬ì„±í•˜ëŠ” ì „ë¬¸ ì½˜í‹° ì‘ê°€ì…ë‹ˆë‹¤.

[ì…ë ¥ ë°ì´í„° ì „ì²˜ë¦¬ ë° ë¶„ì„ ì§€ì¹¨]
(ì¤‘ìš”!) ì œê³µëœ í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„í•  ë•Œ ë‹¤ìŒ ê·œì¹™ì„ ì ìš©í•˜ì—¬ ë‚´ìš©ì„ í•„í„°ë§í•˜ì„¸ìš”.

1. ê³µê° í¬ì¸íŠ¸ ì¶”ì¶œ: ëˆ„êµ¬ë‚˜ ê²ªì–´ë´¤ì„ ë²•í•œ ì¼ìƒì ì¸ ìƒí™©, ì†Œì†Œí•œ í–‰ë³µ, ì‘ì€ ì„±ì·¨ê°ì„ ì°¾ì•„ë‚´ì„¸ìš”.
2. ê°ì •ì„  ê°•ì¡°: ì‘ì€ ê²ƒì—ì„œ ëŠë¼ëŠ” í–‰ë³µ, ì†Œí™•í–‰(ì†Œì†Œí•˜ì§€ë§Œ í™•ì‹¤í•œ í–‰ë³µ)ì„ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.
3. ë¶€ì •ì  ë‚´ìš© ë³€í™˜: ë¶ˆë§Œì´ë‚˜ í˜ë“  ìƒí™©ë„ ìœ ë¨¸ëŸ¬ìŠ¤í•˜ê²Œ ë˜ëŠ” ê¸ì •ì  ê²°ë§ë¡œ ë³€í™˜í•˜ì„¸ìš”.
4. í•µì‹¬ ì¶”ì¶œ: 'ì›ƒê¸´ ìˆœê°„', 'ê°ë™ì ì¸ ìˆœê°„', 'ê·€ì—¬ìš´ ìˆœê°„', 'ê³µê°ë˜ëŠ” ìˆœê°„'ì„ ì¶”ì¶œí•˜ì—¬ ì†Œì¬ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

[ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì„± ìš”ì²­ (ì¼ìƒ 4ì»· êµ¬ì¡°)]
ì¼ìƒ ë§Œí™”ì˜ ì „í˜•ì ì¸ íë¦„ì„ ë”°ë¥´ë˜, ìì—°ìŠ¤ëŸ½ê²Œ êµ¬ì„±í•˜ì„¸ìš”.

1. 1ì»· (ìƒí™© ì„¤ì •): ì¼ìƒì ì¸ ìƒí™© ì†Œê°œ. (ì˜ˆ: ì•„ì¹¨ì— ì¼ì–´ë‚¨, íšŒì‚¬/í•™êµ ë„ì°©, ì§‘ì—ì„œì˜ ëª¨ìŠµ ë“±)
2. 2ì»· (ì „ê°œ): ìƒí™©ì´ ë°œì „í•˜ê±°ë‚˜ ì‘ì€ ì‚¬ê±´ ë°œìƒ. (ì˜ˆ: ì˜ˆìƒì¹˜ ëª»í•œ ì¼, ì†Œì†Œí•œ ë°œê²¬, ì¬ë¯¸ìˆëŠ” ìƒí™©)
3. 3ì»· (í´ë¼ì´ë§¥ìŠ¤): ì›ƒìŒ í¬ì¸íŠ¸ ë˜ëŠ” ê³µê° í¬ì¸íŠ¸. (ì˜ˆ: ë°˜ì „, ìœ ë¨¸, ê°ë™ì ì¸ ìˆœê°„)
4. 4ì»· (ë§ˆë¬´ë¦¬): ë”°ëœ»í•œ ê²°ë§ ë˜ëŠ” ì—¬ìš´. (ì˜ˆ: ì‘ì€ í–‰ë³µ, ë§Œì¡±ìŠ¤ëŸ¬ìš´ ë¯¸ì†Œ, ê·€ì—¬ìš´ ë§ˆë¬´ë¦¬)

[ìŠ¤íƒ€ì¼ ê°€ì´ë“œ]
- ê·¸ë¦¼ì²´: íœìœ¼ë¡œ ì“±ì“± ê·¸ë¦° ë“¯í•œ ë‹¨ìˆœí•˜ê³  ì†Œë°•í•œ ì„ í™”. ì—¬ë°±ì„ ì‚´ë¦° í¸ì•ˆí•œ êµ¬ë„.
- ìƒ‰ìƒ: í‘ë°± ë“œë¡œì‰ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ë˜, í–‰ë³µí•œ ê°ì •ì´ë‚˜ ì¤‘ìš”í•œ í¬ì¸íŠ¸ì—ë§Œ ë”°ëœ»í•œ 'íŒŒìŠ¤í…” í†¤(ë…¸ë‘, ë¶„í™)'ì„ í¬ì¸íŠ¸ ì»¬ëŸ¬ë¡œ ì‚¬ìš©.
- ë¶„ìœ„ê¸°: íë§, ì†Œí™•í–‰, ê³µê°, ê·€ì—¬ì›€, ë”°ëœ»í•¨.

[ì¶œë ¥ í˜•ì‹]
ë°˜ë“œì‹œ ì•„ë˜ JSON êµ¬ì¡°ë¡œë§Œ ì¶œë ¥í•˜ì„¸ìš”. ë‹¤ë¥¸ í…ìŠ¤íŠ¸ ì„¤ëª… ì—†ì´ ì˜¤ì§ JSONë§Œ ë°˜í™˜í•˜ì„¸ìš”.

{
  "ë§Œí™” ì œëª©": "(ë‚´ìš©ì„ ì•„ìš°ë¥´ëŠ” ê³µê°ê°€ëŠ” ì œëª©)",
  "ì»· êµ¬ì„±": [
    {
      "1ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª… - ì§‘, íšŒì‚¬, ì¹´í˜, ê±°ë¦¬ ë“±)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(ê³µê°ê°€ëŠ” ë…ë°±ì´ë‚˜ ëŒ€ì‚¬, í•œêµ­ì–´)"
      }
    },
    {
      "2ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(í•œêµ­ì–´)"
      }
    },
    {
      "3ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(í•œêµ­ì–´)"
      }
    },
    {
      "4ì»·": {
        "ì¥ì†Œ": "(ì¥ì†Œëª…)",
        "ê·¸ë¦¼ë¬˜ì‚¬": "(ìºë¦­í„° í‘œì •, ë°°ê²½, í¬ì¸íŠ¸ ì»¬ëŸ¬ ì‚¬ìš© ìœ„ì¹˜ ë“±ì„ ì˜ë¬¸ìœ¼ë¡œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±)",
        "ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜": "(í•œêµ­ì–´)"
      }
    }
  ]
}

ì£¼ì˜ì‚¬í•­:
- ê·¸ë¦¼ë¬˜ì‚¬ëŠ” ì´ë¯¸ì§€ ìƒì„± AIê°€ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë°˜ë“œì‹œ ì˜ì–´ë¡œ ìƒì„¸í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”.
- ëŒ€ì‚¬/ë‚´ë ˆì´ì…˜ì€ ë§Œí™”ì— ë“¤ì–´ê°ˆ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ì„¸ìš”. ì¼ìƒì ì´ê³  ê³µê°ê°€ëŠ” ë§íˆ¬ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
- ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ë°˜ë“œì‹œ ì¤€ìˆ˜í•˜ì„¸ìš” (íœ ì„ í™”, í‘ë°± ë² ì´ìŠ¤, íŒŒìŠ¤í…” í¬ì¸íŠ¸ ì»¬ëŸ¬).`
    };

    const PROMPT_LABELS = {
      travel: 'ì—¬í–‰ ë§Œí™”',
      daily: 'ì¼ìƒ ë§Œí™”'
    };

    const resetBtn = document.getElementById('resetBtn');
    const generateContiBtn = document.getElementById('generateContiBtn');
    const generateMangaBtn = document.getElementById('generateMangaBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const contiResult = document.getElementById('contiResult');
    const contiJson = document.getElementById('contiJson');
    const systemPromptTextarea = document.getElementById('systemPrompt');
    const promptTypeLabel = document.getElementById('promptTypeLabel');
    const mangaTypeRadios = document.querySelectorAll('input[name="mangaType"]');

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ì„¤ì •
    systemPromptTextarea.value = PROMPT_TEMPLATES.travel;

    // ë§Œí™” ì¢…ë¥˜ ë³€ê²½ ì‹œ í”„ë¡¬í”„íŠ¸ ìë™ ë¡œë”©
    mangaTypeRadios.forEach(radio => {
      radio.addEventListener('change', (e) => {
        const selectedType = e.target.value;
        systemPromptTextarea.value = PROMPT_TEMPLATES[selectedType];
        promptTypeLabel.textContent = PROMPT_LABELS[selectedType];
      });
    });

    resetBtn.addEventListener('click', () => {
      if (confirm('ëª¨ë“  ë‚´ìš©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        // ë¼ë””ì˜¤ ë²„íŠ¼ì„ ì—¬í–‰ ë§Œí™”ë¡œ ë¦¬ì…‹
        document.querySelector('input[name="mangaType"][value="travel"]').checked = true;
        systemPromptTextarea.value = PROMPT_TEMPLATES.travel;
        promptTypeLabel.textContent = PROMPT_LABELS.travel;
        document.getElementById('reviewText').value = '';
        contiJson.value = '';
        contiResult.innerHTML = '<p>ì½˜í‹°ê°€ ìƒì„±ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>';
        contiResult.classList.add('result-area--empty');
        generateMangaBtn.disabled = true;
        downloadBtn.disabled = true;
        const mangaResult = document.getElementById('mangaResult');
        mangaResult.innerHTML = '<p class="result-area--empty">4ì»· ë§Œí™”ê°€ ìƒì„±ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>';
      }
    });

    generateContiBtn.addEventListener('click', async () => {
      const systemPrompt = document.getElementById('systemPrompt').value;
      const reviewText = document.getElementById('reviewText').value;
      if (!reviewText) {
        alert('ë¦¬ë·°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      contiResult.classList.remove('result-area--empty');
      contiResult.innerHTML = '<div class="loading-text"><span class="loading"></span> Geminië¡œ ì½˜í‹° ìƒì„± ì¤‘...</div>';
      generateContiBtn.disabled = true;
      try {
        const conti = await generateContiWithGemini(systemPrompt, reviewText);
        contiJson.value = JSON.stringify(conti, null, 2);
        contiResult.innerHTML = '<p style="color: var(--accent-blue);">âœ… ì½˜í‹° ìƒì„± ì™„ë£Œ! ì•„ë˜ì—ì„œ í™•ì¸í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>';
        generateMangaBtn.disabled = false;
      } catch (error) {
        contiResult.innerHTML = `<p style="color: #ef4444;">âŒ ì½˜í‹° ìƒì„± ì‹¤íŒ¨: ${error.message}</p>`;
        console.error('ì½˜í‹° ìƒì„± ì—ëŸ¬:', error);
      } finally {
        generateContiBtn.disabled = false;
      }
    });

    let currentMangaImage = null;
    generateMangaBtn.addEventListener('click', async () => {
      const contiText = contiJson.value;
      const systemPrompt = document.getElementById('systemPrompt').value;

      if (!contiText || contiText.trim() === '') {
        alert('ì½˜í‹° í…ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ì½˜í‹°ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.');
        return;
      }
      const mangaResult = document.getElementById('mangaResult');
      mangaResult.innerHTML = '<div class="loading-text"><span class="loading"></span> Geminië¡œ 4ì»· ë§Œí™” ìƒì„± ì¤‘... (ìµœëŒ€ 1ë¶„ ì†Œìš”)</div>';
      generateMangaBtn.disabled = true;
      try {
        const imageDataUrl = await generateMangaImageWithGemini(contiText, systemPrompt);
        currentMangaImage = imageDataUrl;
        mangaResult.innerHTML = `
          <img src="${imageDataUrl}" alt="4ì»· ë§Œí™”" style="max-width: 100%; border-radius: var(--radius-md); box-shadow: var(--shadow-lg);" />
          <p style="margin-top: var(--spacing-md); color: var(--accent-blue); font-size: 0.875rem;">âœ… 4ì»· ë§Œí™” ìƒì„± ì™„ë£Œ!</p>
        `;
        downloadBtn.disabled = false;
      } catch (error) {
        mangaResult.innerHTML = `<p style="color: #ef4444;">âŒ ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨: ${error.message}</p>`;
        console.error('ì´ë¯¸ì§€ ìƒì„± ì—ëŸ¬:', error);
      } finally {
        generateMangaBtn.disabled = false;
      }
    });

    downloadBtn.addEventListener('click', () => {
      if (currentMangaImage) {
        const timestamp = new Date().toISOString().slice(0, 10).replace(/-/g, '');
        downloadImage(currentMangaImage, `4cut-manga-${timestamp}.png`);
      } else {
        alert('ë‹¤ìš´ë¡œë“œí•  ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.');
      }
    });
  </script>
</body>

</html>