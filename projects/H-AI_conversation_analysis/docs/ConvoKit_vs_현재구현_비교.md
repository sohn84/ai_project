# ConvoKit 활용 vs 현재 구현 비교

여행사 AI 챗봇 대화 로그 분석을 **ConvoKit**으로 할 경우와 **현재 구현(커스텀 파이프라인)**과의 장단점을 정리한 문서입니다.

---

## 1. 개요

| 구분 | 현재 구현 | ConvoKit |
|------|-----------|----------|
| 성격 | 도메인 맞춤 집계·규칙 기반 | 범용 대화 분석 툴킷 (NLP/사회언어학) |
| 입력 | CSV (질문, 답변, 분류, 카테고리, 평가결과, 오답사유) | Corpus = Conversations / Utterances / Speakers (+ 메타데이터) |
| 분석 초점 | 질문 유형·키워드 빈도, 오답 원인 분류, RAG/프롬프트 권고 | 언어적 조율, 공손함, Fighting Words, 대화 이탈 예측 등 |

---

## 2. 현재 구현의 장단점

### 장점
- **도메인·비즈니스에 최적화**
  - 이미 있는 레이블(카테고리, 분류, 평가결과, 오답사유)을 그대로 활용해 **질문 유형·키워드별 건수/비중**을 바로 집계.
  - **오답 원인**을 “AI 답변 품질” vs “고객센터/화풀이” vs “불명확”으로 **규칙 패턴**으로 분류해 해석이 명확함.
- **추가 의존성·학습 비용 적음**
  - pandas + 표준 라이브러리 위주. ConvoKit·NLP 모델 설치/버전 관리가 필요 없음.
- **결과가 바로 업무에 연결됨**
  - RAG 강화, 프롬프트 튜닝, 피드백 루프 등 **개선 권고**를 같은 파이프라인에서 생성하고, HTML 보고서로 제공.
- **데이터 형식에 맞춤**
  - “요청 1건 = 질문 1 + 답변 1 + 메타데이터” 형태 CSV에 맞춰 설계되어, 전처리·매핑 부담이 적음.
- **재현·수정이 쉬움**
  - 키워드 목록·오답사유 패턴을 바꾸면 바로 다음 분석에 반영 가능. 블랙박스 모델이 없음.

### 단점
- **언어·대화 수준 분석은 제한적**
  - 공손함/불손함, 말투 조율, “어떤 표현이 그룹을 구분하는가” 같은 **NLP/사회언어학 지표는 없음**.
- **키워드·패턴에 의존**
  - 새 유형의 불만·새 표현은 **키워드/패턴 목록을 수동으로 보강**해야 함. 자동 발견은 어렵다.
- **예측·자동 분류 없음**
  - 오답 여부·원인 분류를 **규칙**으로만 하므로, 레이블이 없는 새 데이터에 대한 “예측” 기능은 없음 (필요 시 별도 모델 설계 필요).

---

## 3. ConvoKit 활용 시 장단점

### 장점
- **검증된 대화 분석 기능**
  - **Politeness**: 공손/불손 관련 어휘·구조 특징으로 챗봇/고객 말투 분석 가능.
  - **Fighting Words**: “오답/불만 대화” vs “정답 대화”처럼 그룹을 나눴을 때 **어떤 표현이 그룹을 구분하는지** 통계적으로 찾아줌.
  - **Linguistic coordination**: 발화 간 언어적 유사성·권력 관계 등 (챗봇–고객 상호작용 해석에 활용 가능).
  - **Forecasting**: 대화 이탈·악화 예측 등 (연구/고급 지표용).
- **Corpus 기반 구조**
  - 대화·발화·화자 단위로 통일된 모델을 쓰면, 나중에 다른 데이터셋·다른 분석기와 **재사용·확장**하기 좋음.
- **pandas·메타데이터 연동**
  - DataFrame에서 Corpus를 만들 수 있고, **카테고리·평가결과·오답사유 등을 메타데이터**로 붙여서 ConvoKit 분석과 함께 쓸 수 있음.

### 단점
- **우리 목적에 “직접” 대응하는 기능은 없음**
  - “질문 유형·키워드별 건수/비중”, “오답 원인(AI vs 화풀이) 분류”, “RAG/프롬프트 권고”는 **ConvoKit 기본 기능이 아니라**, 우리가 ConvoKit 위에 다시 구현하거나 후처리로 붙여야 함.
- **도메인·비즈니스 레이블 활용이 우리가 설계**
  - 카테고리, 평가결과, 오답사유는 **우리 CSV에만 있는 개념**이므로, ConvoKit에 넣을 때 Conversation/Utterance 메타데이터로 매핑하는 **추가 개발**이 필요함.
- **의존성·환경 부담**
  - Python 3.10+, ConvoKit 및 의존 패키지 설치·버전 관리. 일부 기능은 NLP 파이프라인(파싱 등)에 의존할 수 있음.
- **한국어 지원 불명확**
  - 문서·예제는 영어 대화가 많음. **한국어**에 대해 Politeness/Fighting Words 등이 얼마나 잘 동작하는지는 별도 검증이 필요함.
- **보고서·권고 자동 생성은 없음**
  - HTML 보고서, RAG/프롬프트 권고는 **현재 구현처럼 별도로 설계**해야 함.

---

## 4. 비교 요약표

| 항목 | 현재 구현 | ConvoKit |
|------|-----------|----------|
| **질문 유형·키워드 건수/비중** | ✅ 바로 제공 (카테고리·분류·키워드 리스트) | ❌ 직접 제공 안 함 → 우리가 집계 로직 구현 |
| **오답 원인 분류 (AI vs 화풀이 등)** | ✅ 오답사유 패턴으로 분류 | ❌ 직접 제공 안 함 → 우리가 규칙/모델 구현 |
| **불만·부정 키워드** | ✅ 지정 키워드 빈도 집계 | ⚠️ Fighting Words로 “구분되는 표현” 발견 가능 (보완용) |
| **공손함/말투 분석** | ❌ 없음 | ✅ Politeness 등 제공 |
| **그룹 구분 어휘 (Fighting Words)** | ❌ 없음 | ✅ 제공 |
| **대화 이탈·악화 예측** | ❌ 없음 | ✅ Forecasting 등 (고급) |
| **RAG·프롬프트·피드백 권고** | ✅ 파이프라인 내 자동 생성 | ❌ 없음 → 우리가 구현 |
| **HTML 보고서** | ✅ 자동 생성 | ❌ 없음 → 우리가 구현 |
| **의존성** | 적음 (pandas 등) | 많음 (ConvoKit, Python 3.10+ 등) |
| **한국어** | 전제 (키워드/패턴 한국어) | 문서상 영어 중심, 한국어는 검증 필요 |
| **유지보수·수정** | 키워드/패턴만 수정하면 됨 | Corpus 매핑 + 분석 로직 유지보수 |

---

## 5. 결론 및 권장

- **지금 요구사항(질문 유형, 오답 원인, 개선 권고, HTML 보고서)** 에는 **현재 구현이 더 잘 맞습니다.**  
  - 이미 있는 CSV 레이블과 규칙만으로 목적을 달성하고, ConvoKit 없이도 동작합니다.

- **ConvoKit을 “보조”로 쓰는 경우**는 다음처럼 확장할 때 고려할 수 있습니다.  
  - **Fighting Words**: “오답/불만” vs “정답” 그룹을 나눠, 우리가 생각 못 한 **구분 어휘**를 자동으로 찾고 싶을 때.  
  - **Politeness**: 고객/봇 말투의 공손함·불만 스타일을 수치로 보고 싶을 때.  
  - 이때는 **현재 파이프라인은 유지**하고, ConvoKit Corpus를 우리 CSV에서 만들고, 위 분석만 추가하는 방식이 적당합니다.

- **처음부터 ConvoKit만으로 동일 보고서를 만든다면**  
  - CSV → Corpus 변환, 질문 유형/키워드 집계, 오답 원인 분류, 권고·HTML 생성까지 **전부 우리가 다시 구현**해야 하므로, 비용 대비 이득이 크지 않습니다.

정리하면, **기존 목적(비개발자용 보고서, RAG/프롬프트 권고)** 에는 현재 구현을 쓰고, **말투·구분 어휘·고급 대화 지표**가 필요해지면 그때 ConvoKit을 보조 도구로 붙이는 구성을 권장합니다.
